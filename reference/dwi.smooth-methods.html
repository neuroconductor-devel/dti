<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Smooth DWI data — dwi.smooth-methods • dti</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Smooth DWI data — dwi.smooth-methods"><meta property="og:description" content="Adaptive smoothing of DWI data. Smoothing is performed both in space and on the sphere (e.g. between images  obtained for different gradient directions) employing a natural
geometrical distance ( in SE(3)). Structural adaptation is used in space only.
Method dwi.smooth refers to the original POAS approach for single shell data.
Method dwi.smooth.ms implements an improved method that is applicable for both single and multi-shell data."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dti</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.5.4.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Smooth DWI data</h1>

    <div class="hidden name"><code>dwi.smooth-methods.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Adaptive smoothing of DWI data. Smoothing is performed both in space and on the sphere (e.g. between images  obtained for different gradient directions) employing a natural
geometrical distance ( in SE(3)). Structural adaptation is used in space only.
Method <code>dwi.smooth</code> refers to the original POAS approach for single shell data.
Method <code>dwi.smooth.ms</code> implements an improved method that is applicable for both single and multi-shell data.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S4 method for class 'dtiData'</span></span>
<span><span class="fu">dwi.smooth</span><span class="op">(</span><span class="va">object</span>, <span class="va">kstar</span>, lambda<span class="op">=</span><span class="fl">20</span>, kappa0<span class="op">=</span><span class="cn">NULL</span>, mask<span class="op">=</span><span class="cn">NULL</span>, ncoils<span class="op">=</span><span class="fl">1</span>,</span>
<span>                                 sigma<span class="op">=</span><span class="cn">NULL</span>, level<span class="op">=</span><span class="cn">NULL</span>, vred<span class="op">=</span><span class="fl">4</span>, verbose<span class="op">=</span><span class="cn">FALSE</span>, dist<span class="op">=</span><span class="fl">1</span>, </span>
<span>                                 model<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Gapprox"</span>,<span class="st">"Gapprox2"</span>,<span class="st">"Chi"</span>,<span class="st">"Chi2"</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="co"># S4 method for class 'dtiData'</span></span>
<span><span class="fu">dwi.smooth.ms</span><span class="op">(</span><span class="va">object</span>, <span class="va">kstar</span>, lambda<span class="op">=</span><span class="fl">12</span>, kappa0<span class="op">=</span><span class="fl">.5</span>, ncoils<span class="op">=</span><span class="fl">1</span>,</span>
<span>                                    sigma<span class="op">=</span><span class="cn">NULL</span>, ws0<span class="op">=</span><span class="fl">1</span>, level<span class="op">=</span><span class="cn">NULL</span>, mask <span class="op">=</span> <span class="cn">NULL</span>, xind<span class="op">=</span><span class="cn">NULL</span>,</span>
<span>                                    yind<span class="op">=</span><span class="cn">NULL</span>, zind<span class="op">=</span><span class="cn">NULL</span>, verbose<span class="op">=</span><span class="cn">FALSE</span>,</span>
<span>                                    usemaxni<span class="op">=</span><span class="cn">TRUE</span>, memrelease <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <p></p>
<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>Object of class <code>"dtiData"</code></p></dd>

  <dt id="arg-kstar">kstar<a class="anchor" aria-label="anchor" href="#arg-kstar"></a></dt>
<dd><p>Number of steps in structural adaptation</p></dd>

  <dt id="arg-lambda">lambda<a class="anchor" aria-label="anchor" href="#arg-lambda"></a></dt>
<dd><p>Scale parameter in adaptation</p></dd>

  <dt id="arg-kappa-">kappa0<a class="anchor" aria-label="anchor" href="#arg-kappa-"></a></dt>
<dd><p>determines amount of smoothing on the sphere. Larger values correspond to stronger smoothing on the sphere. If <code>kappa0=NULL</code> a value is that corresponds to a variace reduction with factor <code>vred</code> on the sphere.</p></dd>

  <dt id="arg-ncoils">ncoils<a class="anchor" aria-label="anchor" href="#arg-ncoils"></a></dt>
<dd><p>Number of coils in MR system</p></dd>

  <dt id="arg-sigma">sigma<a class="anchor" aria-label="anchor" href="#arg-sigma"></a></dt>
<dd><p>Error standard deviation. Assumed to be known and homogeneous in the current implementation. A reasonable estimate may be defined
  as the modal value of standard deviations obtained using method <code>getsdofsb</code>.</p></dd>

  <dt id="arg-level">level<a class="anchor" aria-label="anchor" href="#arg-level"></a></dt>
<dd><p>Threshold for image intensities when setting mask.</p></dd>

  <dt id="arg-mask">mask<a class="anchor" aria-label="anchor" href="#arg-mask"></a></dt>
<dd><p>Binary 3D image defining a mask</p></dd>

  <dt id="arg-vred">vred<a class="anchor" aria-label="anchor" href="#arg-vred"></a></dt>
<dd><p>Used if <code>kappa0=NULL</code> to specify the variance reduction on the sphere when suggesting a value of kappa0</p></dd>

  <dt id="arg-xind">xind<a class="anchor" aria-label="anchor" href="#arg-xind"></a></dt>
<dd><p>index for x-coordinate</p></dd>

  <dt id="arg-yind">yind<a class="anchor" aria-label="anchor" href="#arg-yind"></a></dt>
<dd><p>index for y-coordinate</p></dd>

  <dt id="arg-zind">zind<a class="anchor" aria-label="anchor" href="#arg-zind"></a></dt>
<dd><p>index for z-coordinate</p></dd>

  <dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>If <code>verbose=TRUE</code> additional reports are given.</p></dd>

  <dt id="arg-dist">dist<a class="anchor" aria-label="anchor" href="#arg-dist"></a></dt>
<dd><p>Distance in SE3. Reasonable values are 1 (default, see Becker et.al. 2012), 2 ( a slight modification of 1: with k6^2 instead of abs(k6)) and 3 (using a 'naive' distance on the sphere)</p></dd>

  <dt id="arg-model">model<a class="anchor" aria-label="anchor" href="#arg-model"></a></dt>
<dd><p>Determines which quantities are smoothed. Possible values are
  <code>"Chi"</code> for observed values (assumed to be distributed as noncentral
  Chi with <code>2*ncoils</code> degrees of freedom), <code>"Chi2"</code> for squares of
  observed values (assumed to be distributed as noncentral
  Chi-squared with <code>2*ncoils</code> degrees of freedom). <code>"Gapprox"</code>
  and <code>"Gapprox2"</code> use a Gaussian approximation for the noncentral
  Chi distribution to smooth ovserved and squared values, respectively.</p></dd>

  <dt id="arg-ws-">ws0<a class="anchor" aria-label="anchor" href="#arg-ws-"></a></dt>
<dd><p>Factor to downweight information from S0 images, defaults
   to <code>1/numer of s0 images</code>.</p></dd>

  <dt id="arg-usemaxni">usemaxni<a class="anchor" aria-label="anchor" href="#arg-usemaxni"></a></dt>
<dd><p>If <code>"usemaxni==TRUE"</code> a strikter penalization is used.</p></dd>

   <dt id="arg-memrelease">memrelease<a class="anchor" aria-label="anchor" href="#arg-memrelease"></a></dt>
<dd><p>If <code>"memrelease==TRUE"</code> try to release allocated memory whenever possible.</p></dd>

  </dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>An object of class <code>"dtiData"</code> with smoothed diffusion weighted images.</p>
    </div>
    <div id="methods">
    <h2>Methods</h2>

<dl><dt><code>signature(object) = "ANY"</code></dt>
<dd><p>Returns a warning.</p></dd>


<dt><code>signature(object) = "dtiData"</code></dt>
<dd><p>Smoothing of DWI data</p></dd>


</dl></div>
    <div id="author">
    <h2>Author</h2>
    <p>Karsten Tabelow <a href="mailto:tabelow@wias-berlin.de">tabelow@wias-berlin.de</a><br>
  J\"org Polzehl <a href="mailto:polzehl@wias-berlin.de">polzehl@wias-berlin.de</a></p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="readDWIdata.html">dtiData</a></code>,
  <code><a href="dti-class.html">dtiData</a></code>,</p></div>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Karsten Tabelow, Joerg Polzehl.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer></div>






  </body></html>

